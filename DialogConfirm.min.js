define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/Deferred","dojo/dom-construct","dijit/Dialog","dijit/form/Button","dijit/form/CheckBox"],(function(lang,declare,Deferred,domConstruct,Dialog,Button,Checkbox){return declare(Dialog,{okButton:null,cancelButton:null,skipCheckBox:null,hasOkButton:true,hasCancelButton:true,hasSkipCheckBox:true,hasUnderlay:true,dfd:null,buttonNode:null,constructor:function(props){lang.mixin(this,props)},postCreate:function(){this.inherited("postCreate",arguments);var label,div,remember=false;div=domConstruct.create("div",{className:"dijitDialogPaneContent dialogConfirm"},this.domNode,"last");if(this.hasSkipCheckBox){this.skipCheckBox=new Checkbox({checked:false},domConstruct.create("div"));div.appendChild(this.skipCheckBox.domNode);label=domConstruct.create("label",{for:this.skipCheckBox.id,innerHTML:"Remember my decision and do not ask again.<br/>"},div)}if(this.hasOkButton){this.okButton=new Button({label:"OK",onClick:lang.hitch(this,(function(){remember=this.hasSkipCheckBox?this.skipCheckBox.get("checked"):false;this.hide();this.dfd.resolve(remember)}))},domConstruct.create("div"));div.appendChild(this.okButton.domNode)}if(this.hasCancelButton){this.cancelButton=new Button({label:"Cancel",onClick:lang.hitch(this,(function(){remember=this.hasSkipCheckBox?this.skipCheckBox.get("checked"):false;this.hide();this.dfd.cancel(remember)}))},domConstruct.create("div"));div.appendChild(this.cancelButton.domNode)}this.buttonNode=div},show:function(){this.inherited("show",arguments);if(!this.hasUnderlay){domConstruct.destroy(this.id+"_underlay")}this.dfd=new Deferred;return this.dfd}})}));